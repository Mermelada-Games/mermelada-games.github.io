---
import Layout from '../../layouts/Layout.astro';
import AwardsSection from '../../sections/AwardsSection.astro';
import GameInfoSection from '../../sections/GameInfoSection.astro';
import GameTrailerSection from '../../sections/GameTrailerSection.astro';
import GameContainer from '../../components/GameContainer.astro';
import GalleryCarousel from '../../components/GalleryCarousel.jsx';
import { getLangStaticPaths, t } from '../../utils/i18n.js';

export async function getStaticPaths() {
  return getLangStaticPaths();
}

const { lang } = Astro.params;

const galleryImages = [
  {
    src: '/assets/MindsAbyss/MindsAbyss1.webp',
    alt: 'Mind Abyss 1'
  },
  {
    src: '/assets/MindsAbyss/MindsAbyss2.webp',
    alt: 'Mind Abyss 2'
  },
  {
    src: '/assets/MindsAbyss/MindsAbyss3.webp',
    alt: 'Mind Abyss 3'
  },
  {
    src: '/assets/MindsAbyss/MindsAbyss4.webp',
    alt: 'Mind Abyss 4'
  },
  {
    src: '/assets/MindsAbyss/MindsAbyss5.webp',
    alt: 'Mind Abyss 5'
  },
];
---

<Layout name="Mind's Abyss" description={t('meta-mindsabyss-description', Astro.params.lang)}>
    <main class="game-page">

        <GameContainer 
            imgSrc="/assets/mindabyss.webp"
            title="MIND'S ABYSS"
            showButton={false}
            showOverlay={false}
        />

        <GameTrailerSection 
            videoId="-vX2hSEXpc0"
            title="Game Trailer"
            controls={true}
            modestbranding={true}
            buttonLink="https://mermelada-games.itch.io/mindabyss"
        />

        <GameInfoSection 
            title={t('game-about', lang)}
            text={t('mindsabyss-about', lang)}
            imageSrc='/assets/MindsAbyss/mindsabyss_title.svg'
        />

        <GalleryCarousel images={galleryImages} client:load />

        <AwardsSection awards={[
            {
              title: t('mindsabyss-best-game', lang)
            }
        ]} />

    </main>
</Layout>

<style>
    .game-page {
        min-height: 100vh;
        padding: 0;
        background-color: var(--background-color);
    }
</style>
